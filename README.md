# Codeforces Rating Analysis

Utilities to fetch Codeforces problem data and visualize tag relationships.

## Installation

Install the required Python packages with:

```bash
pip install -r requirements.txt
```

## API Authentication

Authenticated requests require a `.env` file in the project root that sets
`CODEFORCES_API_KEY` and `CODEFORCES_API_SECRET`:

```bash
CODEFORCES_API_KEY=<your key>
CODEFORCES_API_SECRET=<your secret>
```

`fetch_codeforces_problems.py` loads these variables with `load_dotenv`
(see lines 9-13):

```python
from dotenv import load_dotenv
load_dotenv()
api_key = os.getenv("CODEFORCES_API_KEY")
api_secret = os.getenv("CODEFORCES_API_SECRET")
```

## Directory Structure

```
data/
  problems/                # output of `fetch_codeforces_problems.py`
    filtered_problems.csv
  <difficulty_group>/      # data prepared by `prepare_data.py`
    tag_list.csv
    cooccurrence_matrix.csv
    ppmi_matrix.csv
    edges_all.csv
    centrality_table.csv
    tag_coords_umap.csv
figures/
  <difficulty_group>/      # visualizations generated by each script
    force_directed.png
    umap_static.png
    umap_interactive.html
    ppmi_heatmap.png
  # CSV summaries are stored only in ``data/<difficulty_group>``
```

## Usage

1. Fetch problems from the Codeforces API:

```bash
python fetch_codeforces_problems.py
```

2. Prepare matrices and metadata:

```bash
python prepare_data.py
```

3. Generate visualizations (run one or more):

```bash
python vis_force_directed.py <group>
python vis_umap.py <group>
python vis_heatmap.py <group>
```

4. Run the entire pipeline in one step:

```bash
python run_all_analysis.py
```

`<group>` can be `All` or one of the difficulty groups such as `Newbie`, `Pupil`, etc.
